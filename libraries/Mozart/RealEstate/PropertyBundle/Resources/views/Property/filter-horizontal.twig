{% if title %}
    {{ before_title|raw }}{{ title }}{{ after_title|raw }}
{% endif %}

<div class="property-filter widget filter-horizontal">
    <div class="content">
        {% if map_filtering %}
        <form method="get" action="{{ wp.get_template_directory_uri() }}/headquarters/plugins/properties/filter.php" class="form-inline map-filtering">
            {% else %}
            <form method="get" action="{{ im_get_home_url() }}/{{ 'properties'|translate }}/" class="form-inline">
                {% endif %}

                {% if wp.r_get_config('property', 'filter_visibility_h', 'hide_type') != 'on' %}
                    <div class="property-types">
                        {% for type in wp.get_terms('property_types') %}
                            <div class="property-type {{ type.slug }} {% for filter_type in q.filter_type %}{% if filter_type == type.term_id %}active{% endif %}{% endfor %}">
                                <label for="filter_type_{{ type.term_id }}">
                                    <input type="checkbox" name="filter_type[]" title="{{ type.name }}" id="filter_type_{{ type.term_id }}" class="no-ezmark" value="{{ type.term_id }}" {% for filter_type in q.filter_type %}{% if filter_type == type.term_id %}checked{% endif %}{% endfor %}> {{ type.name }}
                                </label>
                            </div>
                        {% endfor %}
                    </div>
                    <!-- /.property-types -->
                {% endif %}
                <div class="general">
                    {% if wp.r_get_config('property', 'filter_visibility_h', 'hide_location') != 'on' %}
                        <select name="filter_location" id="inputLocation-{{ id }}" class="location">
                            <option value="">{{ 'Location'|translate }}</option>
                            {% for location in wp.get_terms('locations') %}
                                <option value="{{ location.term_id }}" {% if q.filter_location == location.term_id %}selected="selected"{% endif %}>{{ location.name }}</option>
                            {% endfor %}
                        </select>
                    {% endif %}

                    {% if wp.r_get_config('property', 'filter_visibility_h', 'hide_beds') != 'on' %}
                        <select name="filter_bedrooms" id="inputBeds-{{ id }}" class="beds">
                            <option value="">{{ 'Beds'|translate }}</option>
                            {% for i in range(1, 10) %}
                                <option value="{{ i }}" {% if q.filter_bedrooms == i %}selected="selected="{% endif %}>{{ i }}</option>
                            {% endfor %}
                        </select>
                    {% endif %}

                    {% if wp.r_get_config('property', 'filter_visibility_h', 'hide_baths') != 'on' %}
                        <select name="filter_bathrooms" id="inputBaths-{{ id }}" class="baths">
                            <option value="">{{ 'Baths'|translate }}</option>
                            {% for i in range(1, 10) %}
                                <option value="{{ i }}" {% if q.filter_bathrooms == i %}selected="selected="{% endif %}>{{ i }}</option>
                            {% endfor %}
                        </select>
                    {% endif %}

                    {% if wp.r_get_config('property', 'filter_visibility_h', 'hide_price_from') != 'on' %}
                        <select name="filter_price_from" id="inputPriceFrom-{{ id }}" class="price-from">
                            <option value="">{{ 'Price From'|translate }}</option>
                            {% for i in price_from %}
                                <option value="{{ i }}" {% if q.filter_price_from == i %}selected="selected"{% endif %}>{{ i|price_format }}</option>
                            {% endfor %}
                        </select>
                    {% endif %}

                    {% if wp.r_get_config('property', 'filter_visibility_h', 'hide_price_to') != 'on' %}
                        <select name="filter_price_to" id="inputPriceTo-{{ id }}" class="price-to">
                            <option value="">{{ 'Price To'|translate }}</option>
                            {% for i in price_to %}
                                <option value="{{ i }}" {% if q.filter_price_to == i %}selected="selected"{% endif %}>{{ i|price_format }}</option>
                            {% endfor %}
                        </select>
                    {% endif %}

                    {% if wp.r_get_config('property', 'filter_visibility_h', 'hide_area_from') != 'on' %}
                        <input type="text" value="{{q.filter_area_from }}" name="filter_area_from" id="inputAreaFrom-{{ id }}" placeholder="{{ 'Area from'|translate }}">
                    {% endif %}

                    {% if wp.r_get_config('property', 'filter_visibility_h', 'hide_area_to') != 'on' %}
                        <input type="text" value="{{q.filter_area_to }}" name="filter_area_to" id="inputAreaTo-{{ id }}" placeholder="{{ 'Area to'|translate }}">
                    {% endif %}

                    <button class="btn btn-primary btn-lg">{{ 'Filter now!'|translate }}</button>
                </div><!-- /.general -->
            </form>
    </div>
    <!-- /.content -->
</div><!-- /.property-filter -->
