{% if title %}
    {{ before_title|raw }}{{ title }}{{ after_title|raw }}
{% endif %}

<div class="property-filter widget">
    <div class="content">
        <form method="get" action="{{ im_get_home_url() }}/{{ 'properties'|translate }}/">
            {% if wp.r_get_config('property', 'filter_visibility', 'hide_location') != 'on' %}
                <div class="location control-group">
                    <label class="control-label" for="inputLocation-{{ id }}">
                        {{ 'Location'|translate }}
                    </label>

                    <div class="controls">
                        <select name="filter_location" id="inputLocation-{{ id }}">
                            <option value="">-</option>
                            {% for location in wp.get_terms('locations') %}
                                <option value="{{ location.term_id }}" {% if q.filter_location == location.term_id %}selected="selected"{% endif %}>{{ location.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <!-- /.controls -->
                </div><!-- /.control-group -->
            {% endif %}

            {% if wp.r_get_config('property', 'filter_visibility', 'hide_type') != 'on' %}
                <div class="type control-group">
                    <label class="control-label" for="inputType-{{ id }}">
                        {{ 'Type'|translate }}
                    </label>

                    <div class="controls">
                        <select name="filter_type" id="inputType-{{ id }}">
                            <option value="">-</option>
                            {% for type in wp.get_terms('property_types') %}
                                <option value="{{ type.term_id }}" {% if q.filter_type == type.term_id %}selected="selected"{% endif %}>{{ type.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <!-- /.controls -->
                </div>
                <!-- /.control-group -->
            {% endif %}

            {% if wp.r_get_config('property', 'filter_visibility', 'hide_beds') != 'on' %}
                <div class="beds control-group">
                    <label class="control-label" for="inputBeds-{{ id }}">
                        {{ 'Beds'|translate }}
                    </label>

                    <div class="controls">
                        <select name="filter_bedrooms" id="inputBeds-{{ id }}">
                            <option value="">-</option>
                            {% for i in range(1, 10) %}
                                <option value="{{ i }}" {% if q.filter_bedrooms == i %}selected="selected="{% endif %}>{{ i }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <!-- /.controls -->
                </div>
                <!-- /.control-group -->
            {% endif %}

            {% if wp.r_get_config('property', 'filter_visibility', 'hide_baths') != 'on' %}
            <div class="baths control-group">
                <label class="control-label" for="inputBaths-{{ id }}">
                    {{ 'Baths'|translate }}
                </label>

                <div class="controls">
                    <select name="filter_bathrooms" id="inputBaths-{{ id }}">
                        <option value="">-</option>
                        {% for i in range(1, 10) %}
                            <option value="{{ i }}" {% if q.filter_bathrooms == i %}selected="selected="{% endif %}>{{ i }}</option>
                        {% endfor %}
                    </select>
                </div>
                <!-- /.controls -->
            </div>
            <!-- /.control-group -->
            {% endif %}

            {% if wp.r_get_config('property', 'filter_visibility', 'hide_contract') != 'on' %}
                <div class="contract control-group">
                    <label class="control-label" for="inputType-{{ id }}">
                        {{ 'Contract'|translate }}
                    </label>

                    <div class="controls">
                        <select name="filter_contract_type" id="inputContract-{{ id }}">
                            <option value="">-</option>
                            {% for contract in wp.get_terms('property_contracts') %}
                                <option value="{{ contract.term_id }}" {% if q.filter_contract_type == contract.term_id %}selected="selected"{% endif %}>{{ contract.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <!-- /.controls -->
                </div>
                <!-- /.control-group -->
            {% endif %}

            {% if wp.r_get_config('property', 'filter_visibility', 'hide_price_from') != 'on' %}
                <div class="price-from control-group">
                    <label class="control-label" for="inputPriceFrom-{{ id }}">
                        {{ 'Price From'|translate }}
                    </label>

                    <div class="controls">
                        <select name="filter_price_from" id="inputPriceFrom-{{ id }}">
                            <option value="">-</option>
                            {% for i in price_from %}
                                <option value="{{ i }}" {% if q.filter_price_from == i %}selected="selected"{% endif %}>{{ i|price_format }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <!-- /.controls -->
                </div>
                <!-- /.control-group -->
            {% endif %}

            {% if wp.r_get_config('property', 'filter_visibility', 'hide_price_to') != 'on' %}
                <div class="price-to control-group">
                    <label class="control-label" for="inputPriceTo-{{ id }}">
                        {{ 'Price To'|translate }}
                    </label>

                    <div class="controls">
                        <select name="filter_price_to" id="inputPriceTo-{{ id }}">
                            <option value="">-</option>
                            {% for i in price_to %}
                                <option value="{{ i }}" {% if q.filter_price_to == i %}selected="selected"{% endif %}>{{ i|price_format }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <!-- /.controls -->
                </div>
                <!-- /.control-group -->
            {% endif %}

            {% if wp.r_get_config('property', 'filter_visibility', 'hide_area_from') != 'on' %}
                <div class="area-from control-group">
                    <label class="control-label" for="inputAreaFrom-{{ id }}">
                        {{ 'Area From'|translate }}
                    </label>

                    <div class="controls">
                        <input type="text" value="{{q.filter_area_from }}" name="filter_area_from" id="inputAreaFrom-{{ id }}">
                    </div><!-- /.controls -->
                </div><!-- /.control-group -->
            {% endif %}

            {% if wp.r_get_config('property', 'filter_visibility', 'hide_area_to') != 'on' %}
                <div class="area-to control-group">
                    <label class="control-label" for="inputAreaTo-{{ id }}">
                        {{ 'Area To'|translate }}
                    </label>

                    <div class="controls">
                        <input type="text" value="{{q.filter_area_to }}" name="filter_area_to" id="inputAreaTo-{{ id }}">
                    </div><!-- /.controls -->
                </div><!-- /.control-group -->
            {% endif %}

            <div class="form-actions">
                <button class="btn btn-primary btn-lg">{{ 'Filter now!'|translate }}</button>
            </div>
            <!-- /.form-actions -->
        </form>
    </div>
    <!-- /.content -->
</div><!-- /.property-filter -->
